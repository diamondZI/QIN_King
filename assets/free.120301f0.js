import{u as e}from"./index.1fb85fdc.js";import{d as l,j as a,y as n,n as u,c as t,b as o,h as v,o as s,_ as f}from"./index.96159c1b.js";const i={key:0,class:"box"},r=v(" 颜色"),c=v(" 大小 "),m=f(l({__name:"free",setup(l){const v=a(null),{elementX:f,elementY:m,x:d,y:h,elementPositionX:y,elementPositionY:p,elementHeight:k,elementWidth:_}=e(v),x=n((()=>v.value.getContext("2d"))),C=a(null),F=a(null),M=a(null);function g(e,l){e?T.value=l.value:L.value=l.value}function b(e,l,a,n,u){e.beginPath(),e.fillStyle=u,e.arc(l,a,n,0,2*Math.PI,!0),e.stroke(),e.fill(),e.closePath()}function P(e){j.value=e,X(L.value,T.value)}const w=a(!1);let E=a(0);const j=a(0),L=a(.1),T=a("red");function A(){return{x:100*Math.random(),y:100*Math.random()}}const I=["#FF5F5D","#3F7C85","#3F7C85","#72F2EB","#747E7E"],X=function(e=.2,l="red"){if(j.value){const a=(v.value.offsetTop+k.value)/100,n=(v.value.offsetLeft+_.value)/100;b(x.value,(d.value-y.value)/n,(h.value-p.value)/a,e,l)}};let Y=0;function q(){const e=Math.floor(6*Math.random()),l=requestAnimationFrame((()=>{Y+=1,E.value++,Y%3==0&&b(x.value,A().x,A().y,1,I[e]),q()}));E.value>1e3&&cancelAnimationFrame(l)}function B(){v.value.style.width="100%",v.value.style.height="100%",q()}return u((()=>{B()})),(e,l)=>(s(),t("div",{ref_key:"foo",ref:C,class:"relative w-full h-full"},[w.value?(s(),t("div",i,[r,o("input",{type:"color",onChange:l[0]||(l[0]=e=>g(!0,F.value)),ref_key:"co",ref:F},null,544),c,o("input",{type:"number",ref_key:"nu",ref:M,onChange:l[1]||(l[1]=e=>g(!1,M.value))},null,544)])):(s(),t("div",{key:1,class:"prompt",onClick:l[2]||(l[2]=e=>w.value=!w.value)},"🖊🎗️")),o("canvas",{onClick:l[3]||(l[3]=e=>w.value=!1),id:"myCanvas",ref_key:"EL",ref:v,width:"100",height:"100",onMousedown:l[4]||(l[4]=e=>P(!0)),onTouchmove:l[5]||(l[5]=e=>function(e=.2,l="red"){const a=(v.value.offsetTop+k.value)/100,n=(v.value.offsetLeft+_.value)/100;b(x.value,(d.value-y.value)/n,(h.value-p.value)/a,e,l)}()),onMousemove:l[6]||(l[6]=e=>X(L.value,T.value)),onMouseup:l[7]||(l[7]=e=>P(!1))},null,544)],512))}}),[["__scopeId","data-v-14871a87"]]);export{m as default};
