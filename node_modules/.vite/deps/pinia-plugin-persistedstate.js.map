{
  "version": 3,
  "sources": ["../../pinia-plugin-persistedstate/dist/chunk-WNM3IC4M.mjs", "../../pinia-plugin-persistedstate/dist/index.mjs", "dep:pinia-plugin-persistedstate"],
  "sourcesContent": ["// src/core/normalize.ts\nfunction isObject(v) {\n  return typeof v === \"object\" && v !== null;\n}\nfunction normalizeOptions(options, factoryOptions) {\n  options = isObject(options) ? options : /* @__PURE__ */ Object.create(null);\n  return new Proxy(options, {\n    get(target, key, receiver) {\n      return Reflect.get(target, key, receiver) || Reflect.get(factoryOptions, key, receiver);\n    }\n  });\n}\n\n// src/core/pick.ts\nfunction get(state, path) {\n  return path.reduce((obj, p) => {\n    return obj == null ? void 0 : obj[p];\n  }, state);\n}\nfunction set(state, path, val) {\n  return path.slice(0, -1).reduce((obj, p) => {\n    if (!/^(__proto__)$/.test(p))\n      return obj[p] = obj[p] || {};\n    else\n      return {};\n  }, state)[path[path.length - 1]] = val, state;\n}\nfunction pick(baseState, paths) {\n  return paths.reduce((substate, path) => {\n    const pathArray = path.split(\".\");\n    return set(substate, pathArray, get(baseState, pathArray));\n  }, {});\n}\n\n// src/core/plugin.ts\nfunction hydrateStore(store, storage, serializer, key) {\n  try {\n    const fromStorage = storage == null ? void 0 : storage.getItem(key);\n    if (fromStorage)\n      store.$patch(serializer == null ? void 0 : serializer.deserialize(fromStorage));\n  } catch (_error) {\n  }\n}\nfunction createPersistedState(factoryOptions = {}) {\n  return (context) => {\n    const {\n      options: { persist },\n      store\n    } = context;\n    if (!persist)\n      return;\n    const persistences = (Array.isArray(persist) ? persist.map((p) => normalizeOptions(p, factoryOptions)) : [normalizeOptions(persist, factoryOptions)]).map(({\n      storage = localStorage,\n      beforeRestore = null,\n      afterRestore = null,\n      serializer = {\n        serialize: JSON.stringify,\n        deserialize: JSON.parse\n      },\n      key = store.$id,\n      paths = null\n    }) => ({\n      storage,\n      beforeRestore,\n      afterRestore,\n      serializer,\n      key,\n      paths\n    }));\n    persistences.forEach((p) => {\n      const { storage, serializer, key, paths, beforeRestore, afterRestore } = p;\n      beforeRestore == null ? void 0 : beforeRestore(context);\n      hydrateStore(store, storage, serializer, key);\n      afterRestore == null ? void 0 : afterRestore(context);\n      store.$subscribe((_mutation, state) => {\n        try {\n          const toStore = Array.isArray(paths) ? pick(state, paths) : state;\n          storage.setItem(key, serializer.serialize(toStore));\n        } catch (_error) {\n        }\n      }, {\n        detached: true\n      });\n    });\n    store.$hydrate = ({ runHooks = true } = {}) => {\n      persistences.forEach((p) => {\n        const { beforeRestore, afterRestore, storage, serializer, key } = p;\n        if (runHooks)\n          beforeRestore == null ? void 0 : beforeRestore(context);\n        hydrateStore(store, storage, serializer, key);\n        if (runHooks)\n          afterRestore == null ? void 0 : afterRestore(context);\n      });\n    };\n  };\n}\n\nexport {\n  createPersistedState\n};\n", "import {\n  createPersistedState\n} from \"./chunk-WNM3IC4M.mjs\";\n\n// src/index.ts\nvar src_default = createPersistedState();\nexport {\n  createPersistedState,\n  src_default as default\n};\n", "import d from \"./node_modules/pinia-plugin-persistedstate/dist/index.mjs\";export default d;\nexport * from \"./node_modules/pinia-plugin-persistedstate/dist/index.mjs\""],
  "mappings": ";AACA,kBAAkB,GAAG;AACnB,SAAO,OAAO,MAAM,YAAY,MAAM;AACxC;AACA,0BAA0B,SAAS,gBAAgB;AACjD,YAAU,SAAS,OAAO,IAAI,UAA0B,uBAAO,OAAO,IAAI;AAC1E,SAAO,IAAI,MAAM,SAAS;AAAA,IACxB,IAAI,QAAQ,KAAK,UAAU;AACzB,aAAO,QAAQ,IAAI,QAAQ,KAAK,QAAQ,KAAK,QAAQ,IAAI,gBAAgB,KAAK,QAAQ;AAAA,IACxF;AAAA,EACF,CAAC;AACH;AAGA,aAAa,OAAO,MAAM;AACxB,SAAO,KAAK,OAAO,CAAC,KAAK,MAAM;AAC7B,WAAO,OAAO,OAAO,SAAS,IAAI;AAAA,EACpC,GAAG,KAAK;AACV;AACA,aAAa,OAAO,MAAM,KAAK;AAC7B,SAAO,KAAK,MAAM,GAAG,EAAE,EAAE,OAAO,CAAC,KAAK,MAAM;AAC1C,QAAI,CAAC,gBAAgB,KAAK,CAAC;AACzB,aAAO,IAAI,KAAK,IAAI,MAAM,CAAC;AAAA;AAE3B,aAAO,CAAC;AAAA,EACZ,GAAG,KAAK,EAAE,KAAK,KAAK,SAAS,MAAM,KAAK;AAC1C;AACA,cAAc,WAAW,OAAO;AAC9B,SAAO,MAAM,OAAO,CAAC,UAAU,SAAS;AACtC,UAAM,YAAY,KAAK,MAAM,GAAG;AAChC,WAAO,IAAI,UAAU,WAAW,IAAI,WAAW,SAAS,CAAC;AAAA,EAC3D,GAAG,CAAC,CAAC;AACP;AAGA,sBAAsB,OAAO,SAAS,YAAY,KAAK;AACrD,MAAI;AACF,UAAM,cAAc,WAAW,OAAO,SAAS,QAAQ,QAAQ,GAAG;AAClE,QAAI;AACF,YAAM,OAAO,cAAc,OAAO,SAAS,WAAW,YAAY,WAAW,CAAC;AAAA,EAClF,SAAS,QAAP;AAAA,EACF;AACF;AACA,8BAA8B,iBAAiB,CAAC,GAAG;AACjD,SAAO,CAAC,YAAY;AAClB,UAAM;AAAA,MACJ,SAAS,EAAE;AAAA,MACX;AAAA,QACE;AACJ,QAAI,CAAC;AACH;AACF,UAAM,eAAgB,OAAM,QAAQ,OAAO,IAAI,QAAQ,IAAI,CAAC,MAAM,iBAAiB,GAAG,cAAc,CAAC,IAAI,CAAC,iBAAiB,SAAS,cAAc,CAAC,GAAG,IAAI,CAAC;AAAA,MACzJ,UAAU;AAAA,MACV,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf,aAAa;AAAA,QACX,WAAW,KAAK;AAAA,QAChB,aAAa,KAAK;AAAA,MACpB;AAAA,MACA,MAAM,MAAM;AAAA,MACZ,QAAQ;AAAA,UACH;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,EAAE;AACF,iBAAa,QAAQ,CAAC,MAAM;AAC1B,YAAM,EAAE,SAAS,YAAY,KAAK,OAAO,eAAe,iBAAiB;AACzE,uBAAiB,OAAO,SAAS,cAAc,OAAO;AACtD,mBAAa,OAAO,SAAS,YAAY,GAAG;AAC5C,sBAAgB,OAAO,SAAS,aAAa,OAAO;AACpD,YAAM,WAAW,CAAC,WAAW,UAAU;AACrC,YAAI;AACF,gBAAM,UAAU,MAAM,QAAQ,KAAK,IAAI,KAAK,OAAO,KAAK,IAAI;AAC5D,kBAAQ,QAAQ,KAAK,WAAW,UAAU,OAAO,CAAC;AAAA,QACpD,SAAS,QAAP;AAAA,QACF;AAAA,MACF,GAAG;AAAA,QACD,UAAU;AAAA,MACZ,CAAC;AAAA,IACH,CAAC;AACD,UAAM,WAAW,CAAC,EAAE,WAAW,SAAS,CAAC,MAAM;AAC7C,mBAAa,QAAQ,CAAC,MAAM;AAC1B,cAAM,EAAE,eAAe,cAAc,SAAS,YAAY,QAAQ;AAClE,YAAI;AACF,2BAAiB,OAAO,SAAS,cAAc,OAAO;AACxD,qBAAa,OAAO,SAAS,YAAY,GAAG;AAC5C,YAAI;AACF,0BAAgB,OAAO,SAAS,aAAa,OAAO;AAAA,MACxD,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;AC1FA,IAAI,cAAc,qBAAqB;;;ACLmC,IAAO,sCAAQ;",
  "names": []
}
