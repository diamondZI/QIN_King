import {
  createPersistedState
} from "./chunk-WNM3IC4M.mjs";

// src/quasar.ts
function createQuasarCookiesPersistedState(cookies, ssrContext, factoryOptions) {
  return createPersistedState({
    storage: {
      getItem: (key) => {
        const c = process.env.SERVER ? cookies.parseSSR(ssrContext) : cookies;
        return JSON.stringify(c.get(key));
      },
      setItem: (key, value) => {
        const c = process.env.SERVER ? cookies.parseSSR(ssrContext) : cookies;
        c.set(key, JSON.parse(value), factoryOptions == null ? void 0 : factoryOptions.cookiesOptions);
      }
    },
    ...factoryOptions
  });
}
function createQuasarWebStoragePersistedState(webStorage, factoryOptions) {
  return createPersistedState({
    storage: {
      getItem: webStorage.getItem,
      setItem: webStorage.set
    },
    ...factoryOptions
  });
}
export {
  createQuasarCookiesPersistedState,
  createQuasarWebStoragePersistedState
};
